<!DOCTYPE html>
<html>

<!-- Mirrored from developer.alexanderklimov.ru/android/theory/activity_methods.php by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Jul 2014 14:50:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset=utf-8>
<title>Android: Методы активности</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Le styles -->
<link href="../../assets/css/bootstrap.css" rel="stylesheet">
<style type="text/css">
  body {
    padding-top: 60px;
    padding-bottom: 10px;
  }
  .sidebar-nav {
    padding: 9px 0;
  }
</style>
	
<link href="../../assets/css/bootstrap-responsive.css" rel="stylesheet">
	
   <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />   
</head>

<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        
        <div class="nav-collapse collapse">
          <p class="navbar-text pull-right">
			<a data-toggle="modal" href="#myModal" class="navbar-link">Гость</a>
          </p>
          <ul class="nav">
            
          </ul>
        </div><!--/.nav-collapse -->
        </div>
    </div>
</div>

<div class="row-fluid">
    <div class="span5">
        <p>
		<a href="http://developer.alexanderklimov.ru/"><img src="../../images/header.png" alt="Сайт разработчика Александр Климова" border="0"/></a>
		</p>
    
    </div><!--/span-->
    
	<div class="span5">
        <p style="color:green; font-style: italic; font-size: small;">
		/* Моя кошка замечательно разбирается в программировании. Стоит мне объяснить проблему ей - и все становится ясно. */<br>John Robbins, Debugging Applications, Microsoft Press, 2000
		</p>
    </div><!--/span-->
    
	<div class="span2">
        <p>
		<a href="http://feeds.feedburner.com/alexanderklimov/VJcl"><img src="../../kot-2-rss-100.png" border="0"></a>
		</p>
    </div><!--/span-->
</div><!--/row-->    
<div class="clearfix"></div>
    
<noindex><!--Rating@Mail.ru COUNTER--><script language="JavaScript" type="text/javascript"><!--
d=document;var a='';a+=';r='+escape(d.referrer)
js=10//--></script><script language="JavaScript1.1" type="text/javascript"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script><script language="JavaScript1.2" type="text/javascript"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script><script language="JavaScript1.3" type="text/javascript"><!--
js=13//--></script><script language="JavaScript" type="text/javascript"><!--
d.write('<IMG src="http://db.c7.b3.a0.top.mail.ru/counter'+
'?id=228158;js='+js+a+';rand='+Math.random()+
'" height="1" width="1" alt="top.mail.ru" border="0" />')
if(11<js)d.write('<'+'!-- ')//--></script><noscript><img
src="http://top-fwz1.mail.ru/counter?js=na;id=228158"
height="1" width="1" alt="top.mail.ru" border="0" /></noscript><script language="JavaScript" type="text/javascript"><!--
if(11<js)d.write('--'+'>')//--></script><!--/COUNTER--></noindex><ul class="nav nav-pills">
<li class=""><a href="http://rusnetframework.blogspot.com/">Блог</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/index.php">C#/Visual Basic</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/windowsphone/wp.php">Windows Phone</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/wpf/wpf.php">WPF</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/php">PHP</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/silverlight/silverlight.php">Silverlight</a></li>
<li class="active"><a href="http://developer.alexanderklimov.ru/android">Android</a></li>
<li class=""><a href="http://developer.alexanderklimov.ru/arduino">Arduino</a></li>
</ul>
<div class="container-fluid">
    
    <div class="row-fluid">
        <!--левое меню -->
        <div class="span2">
            <div class="well sidebar-nav">
            <ul class="nav nav-list">
<li class=""><a href="../index-2.html">Главная</a></li>
<li class="active"><a href="index.html">Теория</a></li>
<li class=""><a href="../views.html">Palette</a></li>
<li class=""><a href="../listview/index.html">ListView</a></li>
<li class=""><a href="../catshop/catshop.html">Котошоп</a></li>
<li class=""><a href="../animation.html">Анимация</a></li>
<li class=""><a href="../sqlite/index.html">SQLite</a></li>
<li class=""><a href="../opengles/index.html">OpenGL ES</a></li>
<li class=""><a href="../library/index.html">Библиотеки</a></li>
<li class=""><a href="../games/index.html">Игры</a></li>
<li class=""><a href="../emulator.html">Эмулятор</a></li>
<li class=""><a href="../tips-android.html">Советы</a></li>
<li class=""><a href="../articles-android.html">Статьи</a></li>
<li class=""><a href="../books.html">Книги</a></li>
<li class=""><a href="../java/java.html">Java. Экспресс-курс</a></li>
<li class=""><a href="../design/index.html">Дизайн</a></li>
<li class=""><a href="../opensource.html">Open Source</a></li>
<li class=""><a href="../links.html">Полезные ресурсы</a></li>
</ul>            </div><!--/.well -->
        </div><!--/span-->


        <div class="span8">

        <div class="row-fluid">
            <div class="span12">
            
                        <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h3 id="myModalLabel">Читайте на здоровье!</h3>
            </div>
            <div class="modal-body">
            
              <p>Статья проплачена кошками - всемирно известными производителями котят.</p>

            <p>Если статья вам понравилась, то можете <a href="http://developer.alexanderklimov.ru/donate.php">поддержать проект</a>.</p>
			
			            
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal">Закрыть</button>
              
            </div>
          </div>
<h1 class="text-warning">Методы активности</h1>

<p>
<a href="#metod">Методы</a><br>
<a href="#addcontentview">Метод addContentView()</a><br>
<a href="#findViewById">Метод findViewById()</a><br>
<a href="#finish">Метод finish()</a><br>
<a href="#getFragmentManager">Метод getFragmentManager()</a><br>
<a href="#onsaveinstancestate">Метод onSaveInstanceState()</a><br>
<a href="#onrestoreinstancestate">Метод onRestoreInstanceState()</a><br>
<a href="#startactivity">Метод startActivity()</a><br>
<a href="#startactivityforresult">Метод startActivityForResult()</a><br>
<a href="#setresult">Метод setResult()</a><br>
<a href="#onactivityresult">Метод onActivityResult()</a><br>
<a href="#overridependingtransition">Метод overridePendingTransition()</a><br>
<a href="#onwindowfocuschanged">Метод onWindowFocusChanged()</a><br>
<a href="#onbackpressed">Метод onBackPressed()</a><br>
<a href="#requestwindowfeature">Метод requestWindowFeature()</a><br>
<a href="#setContentView">Метод setContentView()</a><br>
<a href="#setfeaturedrawableresource">Метод setFeatureDrawableResource()</a><br>
<a href="#onConfigurationChanged">Метод onConfigurationChanged()</a><br>


<h2 class="text-warning" id="metod">Методы</h2>

<div class="alert alert-info">
Чтобы сгенерировать метод в Eclipse, щелкните правой кнопкой мыши в области исходного кода и в контекстном меню выберите команды Source | Override/Implement Methods… (Исходный код | Переопределение/реализация методов). В появившемся диалоговом окне отображаются методы, которые могут быть переопределены или реализованы в классе.
</div>

<p>При переходе активности от одного состояния к другому, она получает уведомления через защищенные методы:</p>

<ul>
<li>protected void onCreate(Bundle savedInstanceState);</li>
<li>protected void onStart();</li>
<li>protected void onRestart();</li>
<li>protected void onResume();</li>
<li>protected void onPause();</li>
<li>protected void onStop();</li>
<li>protected void onDestroy()</li>
</ul>

<p>Из перечисленных методов в вашем классе обязательно должен быть метод <b>onCreate()</b>, которая задает начальную установку параметров при инициализации активности. Вторым по популярности является метод <b>onPause()</b>, используемый для сохранения пользовательских настроек активности и
подготовиться к прекращению взаимодействия с пользователем.</p>

<p>При реализации любого из этих методов необходимо всегда сначала вызывать версию этого метода из суперкласса. Например:</p>

<pre><code class="java">
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
        ...
}

protected void onPause()
{
    super.onPause();
    ...
}
</code></pre>

<p>Семь перечисленных методов определяют весь жизненный цикл активности. Есть три вложенных цикла, которые вы можете отслеживать в классе активности:</p>

<ul>
<li>полное время жизни (entire lifetime) — время с момента первого вызова метода <b>onCreate()</b> до вызова <b>onDestroy()</b>. Активность делает всю  начальную установку своего глобального состояния в методе <b>onCreate()</b> и освобождает все остающиеся ресурсы в <b>onDestroy()</b>. Например, если активность порождает дополнительный поток, выполняющийся в фоновом режиме, можно создать этот поток в методе <b>onCreate()</b> и затем остановить поток в методе <b>onDestroy()</b>;</li>
<li>видимое время жизни (visible lifetime) — время между вызовом метода <b>onStart()</b> и вызовом <b>onStop()</b>. В это время пользователь может видеть окно активности на экране, хотя окно может не быть на переднем плане и может не взаимодействовать с пользователем. Между этими двумя методами вы можете поддерживать в коде ресурсы, которые необходимы, чтобы отображать активность пользователю;</li>
<li>активное время жизни (foreground lifetime) — время между вызовами <b>onResume()</b> и <b>onPause()</b>. В это время окно активности находится на переднем плане и взаимодействует с пользователем. Активность в процессе работы приложения может часто переходить между состояниями <i>active</i> и <i>paused</i>, поэтому код в этих двух методах должен быть или небольшим по объему (чтобы не замедлять работу приложения во время выполнения), или порождать дополнительные потоки, если требуется
выполнение задач, занимающих длительное время.</li>
</ul>

<p>Можно написать код с заглушками для методов внутри Активности, которые обрабатывают изменения состояний. Комментарии к каждой такой заглушке описывают действия, которые нужно учитывать при обработке этих событий.</p>

<pre><code class="java">
package ru.alexanderklimov.myapplication;

import android.app.Activity;
import android.os.Bundle;

public class MyActivity extends Activity {
    // Вызывается при входе в "полноценное" состояние.
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // Инициализируйте Активность.
    }
    
    // Вызывается, когда метод onCreate завершил свою работу, 
    // и используется для восстановления состояния пользовательского 
    // интерфейса
    @Override
    public void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
        // Восстановите состояние UI из переменной savedInstanceState.
        // Этот объект типа Bundle также был передан в метод onCreate.
    }
    
    // Вызывается перед тем, как Активность становится "видимой".
    @Override
    public void onRestart(){
        super.onRestart();
        // Загрузите изменения, учитывая то, что Активность
        // уже стала "видимой" в рамках данного процесса.
    }
    
    // Вызывается в начале "видимого" состояния.
    @Override
    public void onStart(){
        super.onStart();
        // Примените к UI все необходимые изменения, так как
        // Активность теперь видна на экране.
    }
    
    // Вызывается в начале "активного" состояния.
    @Override
    public void onResume(){
        super.onResume();
        // Возобновите все приостановленные обновления UI,
        // потоки или процессы, которые были "заморожены",
        // когда данный объект был неактивным.
    }
    
    // Вызывается для того, чтобы сохранить пользовательский интерфейс
    // перед выходом из "активного" состояния.
    @Override
    public void onSaveInstanceState(Bundle savedInstanceState) {
        // Сохраните состояние UI в переменную savedInstanceState.
        // Она будет передана в метод onCreate при закрытии и
        // повторном запуске процесса.
        super.onSaveInstanceState(savedInstanceState);
    }
    
    // Вызывается перед выходом из "активного" состояния
    @Override
    public void onPause(){
        // "Замораживает" пользовательский интерфейс, потоки 
        // или трудоемкие процессы, которые могут не обновляться, 
        // пока Активность не находится на переднем плане.
        super.onPause();
    }
    
    // Вызывается перед тем, как Активность перестает быть "видимой".
    @Override
    public void onStop(){
        // "Замораживает" пользовательский интерфейс, потоки 
        // или операции, которые могут подождать, пока Активность
        // не отображается на экране. Сохраняйте все введенные
        // данные и изменения в UI так, как будто после вызова
        // этого метода процесс должен быть закрыт.
        super.onStop();
    }
    
    // Вызывается перед выходом из "полноценного" состояния.
    @Override
    public void onDestroy(){
        // Очистите все ресурсы. Это касается завершения работы
        // потоков, закрытия соединений с базой данных и т. д.
        super.onDestroy();
    }
}
</code></pre>

<p>Как видно из кода, переопределяя эти обработчики, вы всегда должны вызывать одноименные методы родительского класса.</p>

<p>Методы <a href="lifecycle.html">жизненного цикла описаны в отдельной статье</a>. Здесь их опишем кратко и рассмотрим другие методы.</p>

<h2 class="text-warning" id="addcontentview">Метод addContentView()</h2>

<p>Метод <b>addContentView()</b> добавляет компонент к уже существующей разметке. Пример <a href="../opengles/opengles1buttons.html">смотрите здесь</a>.</p>

<h2 class="text-warning" id="findViewById">Метод findViewById()</h2>

<p>Метод <b>findViewById()</b> позволяет получить ссылку на <b>View</b>, которая размещена в разметке через его идентификатор.</p>

<pre><code class="java">
TextView myTextView = (TextView)findViewById(R.id.tvCat);
</code></pre>

<p>Если вы используете фрагменты, то когда они загружаются в активность, то компоненты, входящие в состав фрагмента, становятся частью иерархии активности. И вы можете использовать метод <b>findViewById()</b> для получения ссылки к компоненту фрагмента.</p>

<p>Не путать с одноимённым методом для класса <b>View</b>.</p>

<h2 class="text-warning" id="finish">Метод finish()</h2>

<p>C помощью метода <b>finish()</b> можно завершить работу активности. Если приложение состоит из одной активности, то этого делать не следует, так как система сама завершит работу приложения. Если же приложение содержит несколько активностей, между которыми нужно переключаться, то данный метод позволяет экономить ресурсы.</p>

<h2 class="text-warning" id="getFragmentManager">Метод getFragmentManager()</h2>

<p>Каждая активность включает в себя <i>Менеджер фрагментов</i> для управления фрагментами, если они используются. Метод <b>getFragmentManager()</b> позволяет получить доступ к данному менеджеру. На сайте есть отдельные статьи, посвящённые фрагментам.</p>

<pre><code class="java">
FragmentManager fragmentManager = getFragmentManager();
</code></pre>

<h2 class="text-warning" id="onsaveinstancestate">Метод onSaveInstanceState()</h2>

<p>Когда система завершает активность в принудительном порядке, чтобы освободить ресурсы для других приложений, пользователь может снова вызвать эту активность с сохранённым предыдущим состоянием. Чтобы зафиксировать состояние активности перед её уничтожением, в классе активности необходимо реализовать метод <b>onSaveinstancestate()</b>.</p>

<p>Сам метод вызывается прямо перед методом <b>onPause()</b>. Он предоставляет возможность сохранять состояние пользовательского интерфейса активности в объект <b>Bundle</b>, который потом будет передаваться в методы <b>onCreate()</b> и <b>onRestoreInstanceState()</b>. В объект Bundle можно записать параметры, динамическое состояние активности как пары имя-значение. Когда активность будет снова вызвана, объект Bundle передается системой в качестве параметра в метод onCreate() и в метод onRestoreInstanceState(), которыЙ вызывается после onStart(), чтобы один из них или они оба могли установить активность в предыдущее состояние. Прежде чем передавать изменённый параметр Bundle в обработчик родительского класса, сохраните значения с помощью методов getXXX() 
и putXXX().</p>

<p>Используйте обработчик <b>onSaveInstanceState()</b> для сохранения состояния интерфейса (например, состояния флажков, текущего выделенного элемента или введенных, но не сохраненных данных), чтобы объект Activity при следующем входе в активное состояние мог вывести на экран тот же UI. Рассчитывайте, что перед завершением работы процесса во время активного состояния будут вызваны обработчики <b>onSaveInstanceState</b> и <b>onPause</b>.</p>

<p>В отличие от базовых методов, методы <b>onSaveInstanceState()</b> и <b>onRestoreInstanceState()</b> не относятся к методам жизненного цикла активности. Система будет вызывать их не во всех случаях. Например, Android вызывает <b>onSaveinstancestate()</b> прежде, чем активность становится уязвимой к уничтожению системой, но не вызывает его, когда экземпляр активности разрушается пользовательским действием (при нажатии клавиши BACK). В этом случае нет никаких причин для сохранения состояния активности.</p>

<p>Метод <b>onSaveInstanceState()</b> вызывается системой в случае изменения конфигурации устройства в процессе выполнения приложения (например, при вращении устройства пользователем или выдвижении физической клавиатуры устройства.</p>

<p>Поскольку метод <b>onSaveinstanceState()</b> вызывается не во всех случаях, его необходимо использовать только для сохранения промежуточного состояния активности. Для сохранения данных лучше использовать метод <b>onPause()</b>.</p>

<pre><code class="java">
private static final String TEXTVIEW_STATE_KEY = "TEXTVIEW_STATE_KEY";
static final String STATE_SCORE = "playerScore";
static final String STATE_LEVEL = "playerLevel";

@Override
public void onSaveInstanceState(Bundle saveInstanceState) {
    // получаем ссылку на текстовую метку
    TextView myTextView = (TextView)findViewById(R.id.textView1);
    // Сохраняем его состояние
    saveInstanceState.putString(TEXTVIEW_STATE_KEY, myTextView.getText().toString());
    
    // Сохраняем состояние игрока
    savedInstanceState.putInt(STATE_SCORE, mCurrentScore);
    savedInstanceState.putInt(STATE_LEVEL, mCurrentLevel);
    
    // всегда вызывайте суперкласс для сохранения состояний видов
    super.onSaveInstanceState(saveInstanceState);
}
</code></pre>

</p>Этот обработчик будет срабатывать всякий раз, когда жизненный цикл активности начнёт подходить к концу, но только в том случае, если её работа не будет завершена явно (при вызове метода <b>finish()</b>). Вследствие этого обработчик используется для проверки целостности состояния активности между активными жизненными циклами одиночной пользовательской сессии.</p>

<p>Сохранённый параметр Bundle передается методам <b>onRestoreInstanceState()</b> и <b>onCreate()</b>, если приложение принудительно перезапускается на протяжении сессии. В листинге показано, как извлечь значения из этого параметра и использовать их для обновления состояния экземпляра активности.</p>

<pre><code class="java">
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    TextView myTextView = (TextView)findViewById(R.id.textView1);
    String text = "";
    if (savedInstanceState != null && savedInstanceState.containsKey(TEXTVIEW_STATE_KEY))
        text = savedInstanceState.getString(TEXTVIEW_STATE_KEY);
    myTextView.setText(text);
}
</code></pre>

<div class="alert">
Помните, что обработчик onSaveInstanceState вызывается только тогда, когда активность переходит в пассивное состояние, а не когда она закрывается при вызове метода finish() или пользователь нажимает кнопку Назад.
</div>

<p>Примеры использования можно увидеть в статьях <a href="menu.html#removemenu">Программное удаление пункта меню</a> и <a href="../actionbar.html#hide" >Прячем и показываем ActionBar</a></p>

<h2 class="text-warning" id="onrestoreinstancestate">Метод onRestoreInstanceState()</h2>

<p>У метода <b>onRestoreInstanceState()</b> есть такой же параметр <b>Bundle</b>, как у <b>onCreate()</b>, и вы можете восстанавливать сохранённые значения из метода onSaveInstanceState().</p>

<p>Метод вызывается после метода onStart(). Система вызывает метод <b>onRestoreInstanceState()</b> только в том случае, если имеются сохранённые данные для восстановления. Таким образом вам не нужно проверять <b>Bundle</b> на <i>null</i>, как в методе <b>onCreate()</b>:</p>

<pre><code class="java">
public void onRestoreInstanceState(Bundle savedInstanceState) {
    // Always call the superclass so it can restore the view hierarchy
    super.onRestoreInstanceState(savedInstanceState);
   
    // Restore state members from saved instance
    mCurrentScore = savedInstanceState.getInt(STATE_SCORE);
    mCurrentLevel = savedInstanceState.getInt(STATE_LEVEL);
}
</code></pre>

<h2 class="text-warning" id="startactivity">Метод startActivity()</h2>

<p>Чтобы запустить новую активность, используется метод <b>startActivity(Intent)</b>. Этот метод принимает единственный параметр — объект <b>Intent</b>, описывающий активность, которая будет запускаться. Смотри пример <a href="../activity.html">Activity</a>.</p>

<h2 class="text-warning" id="startactivityforresult">Метод startActivityForResult()</h2>

<p>Иногда требуется вернуть результат активности, когда она закрывается. Например, можно запустить активность, которая позволяет пользователю выбирать человека в списке контактов. При закрытии активность возвращает данные человека, который был выбран: его полное имя и телефон. В этом случае необходимо вызвать метод <b>startActivityForResult()</b></p>

<p>Метод <b>startActivityForResult(Intent, int)</b> со вторым параметром, идентифицирующим запрос позволяет возвращать результат. Когда дочерняя активность закрывается, то в родительской активности срабатывает метод <b>onActivityResult(int, int, Intent)</b>, который содержит возвращённый результат, определённый в родительской активности.</p>

<pre><code class="java">
// идентификатор запроса
private static final int SHOW_SUBACTIVITY = 1;
Intent intent = new Intent();

// определение класса запускаемой активности
intent.setClass(this, NewContactActivity.class);
// вызов активности
startActivityForResult(intent, SHOW_SUBACTIVITY);
</code></pre>

<h2 class="text-warning" id="setresult">Метод setResult()</h2>

<p>Когда активность завершится, вы можете вызвать метод <b>setResult(int)</b>, чтобы возвратить данные назад в родительскую активность (до метода <b>finish()</b>). Этот метод возвращает код результата закрытия активности, который может быть стандартными результатами <b>Activity.RESULT_CANCELED</b>, <b>Activity.RESULT_OK</b> или определяемым пользователем результатом <b>RESULT_FiRST_USER</b> (можете придумать любую константу с целочисленным значением).</p>

<pre><code class="java">
private EditText mName;
private EditText mPhone;
Intent intent new Intent();

// вставляем имя человека
intent.putExtra(ContactListActivity.NAME, mName.getText().toString());
// вставляем номер телефона
intent.putExtra(ContactListActivity.PHONE, mPhone.getText().toString());
// возвращаем результат в вызывающую активность
setResult(RESULT_OK, intent);
finish();
</code></pre>

<p>Если в дочерней активности есть кнопка отмены, то код может быть следующим:</p>

<pre><code class="java">
setResult(RESULT_CANCELED);
finish();
</code></pre>

<p>Если метод <b>finish()</b> вызвать раньше метода <b>setResult()</b>, то результирующий код установится в <b>RESULT_CANCELED</b> автоматически, а возвращённое намерение покажет значение <i>null</i>.</p>

<h2 class="text-warning" id="onactivityresult">Метод onActivityResult()</h2>

<p>Дочерняя активность может произвольно возвратить назад объект <b>Intent</b>, содержащий любые дополнительные данные. Вся эта информация в родительской активности появляется через метод обратного вызова <b>Activity.onActivityResult()</b>, наряду с идентификатором, который она первоначально предоставила.</p>

<p>Если дочерняя активность завершится неудачно или будет закрыта пользователем без подтверждения ввода через кнопку Back, то родительская активность получит результат с кодом <b>RESULT_CANCELED</b>.</p>

<p>Метод принимает несколько параметров:</p>

<ul>
<li>Код запроса - тот код, который использовался для запуска дочерней активности, возвращающий результат.</li>
<li>Результирующий код - код результата, поступающий от дочерней активности, как правило, <b>RESULT_OK</b> или <b>RESULT_CANCELED</b></li>
<li>Данные - намерение может включать в себя различные данные в виде параметра <b>extras</b> внутри намерения.</li>
</ul>

<h2 class="text-warning" id="overridependingtransition">Метод overridePendingTransition()</h2>

<p>Метод <b>overridePendingTransition()</b> позволяет задать анимацию при переходе от одной активности к другой. <a href="../animation/activityoptions.html#overridependingtransition">Пример смотрите здесь</a>.</p>

<h2 class="text-warning" id="onwindowfocuschanged">Метод onWindowFocusChanged()</h2>

<p>Метод позволяет определить момент получения фокуса вашим приложением.</p>

<pre><code class="java">
@Override
public void onWindowFocusChanged(boolean hasFocus) {
    super.onWindowFocusChanged(hasFocus);
    
    if(hasFocus) 
        Toast.makeText(this, "Focus", Toast.LENGTH_LONG).show();
}
</code></pre>

<p>Метод может быть полезен, так как он срабатывает позже метода <b>onCreate()</b>. Например, для вычисления размеров кнопки на экране этот метод предпочтительнее, так как уже известно, что все элементы загрузились и доступны, тогда как в <b>onCreate()</b> могут возвратиться пустые значения ширины и высоты кнопки. <a href="../popupwindow.html#custompopup">Пример использования</a>.</p>

<p>Другой пример: <a href="../views/ongloballayoutlistener.html#getlocation">Получить координаты компонента</a></p>

<h2 class="text-warning" id="onbackpressed">Метод onBackPressed()</h2>

<p>Метод, позволяющий отследить нажатине на кнопку Back. Появился в Android 2.0 (API 5). Пример использования можно посмотреть в статье <a href="../keyboard.html#back" >Кнопка Back: Вы уверены, что хотите выйти из программы?</a>.</p>

<h2 class="text-warning" id="requestwindowfeature">Метод requestWindowFeature()</h2>

<p>Метод позволяет задействовать дополнительные возможности для активности, например, выводить экран активности без заголовка. Примеры смотрите <a href="../customtitlebar.html#requestwindowfeature">здесь</a>.</p>

<h2 class="text-warning" id="setContentView">Метод setContentView()</h2>

<p>Изначально экран активности пуст. Чтобы разместить пользовательский интерфейс, необходимо вызвать метод <b>setContentView()</b>. У метода есть две перегруженные версии. Вы можете передать в параметре либо экземпляр компонента (View), либо идентификатор ресурса (наиболее распространённый способ).</p>

<p>Пример с использованием экземпляра компонента:</p>

<pre><code class="java">
@Override
public void onCreate(Bundle saveInstanceState) {
    super.onCreate(saveInstanceState);
    
    TextView myTextView = new TextView(this);
    <b>setContentView(myTextView);</b>
    
    myTextView.setText("Hello, Kitty");
}
</code></pre>

<p>В этом примере вы увидите на экране текстовое поле с текстом. Но при таком способе вы можете использовать только один компонент. А если экран состоит из множества кнопок и прочих элементов управления, то нужно использовать разметку.</p>

<h2 class="text-warning" id="setfeaturedrawableresource">Метод setFeatureDrawableResource()</h2>

<p>С помощью данного метода можно вывести значки в правой части заголовка. Смотри <a href="../customtitlebar.html#icon">пример</a>.</p>

<h2 class="text-warning" id="onConfigurationChanged">Метод onConfigurationChanged()</h2>

<p>Метод, который вызывается при изменении конфигурации устройства. Если в манифесте были установлены <a href="AndroidManifestXML.html#activity">специальные параметры у атрибута <b>android:configChanges</b></a>, то данный метод не будет вызван.</p>

<h5 class="text-error">Реклама</h5>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4224968932772057";
/* Полноразмерный баннер 728х90 */
google_ad_slot = "4077523505";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</div><!--/span-->
        </div><!--/row-->    
          
        </div><!--/span-->
        
        <div class="span2">
            <div class="well sidebar-nav">
    <h4><span class="label label-info">Реклама</span></h4>
    <script type="text/javascript"><!--
    google_ad_client = "pub-4224968932772057";
    /* 120x600AlexKlimov */
    google_ad_slot = "0305552138";
    google_ad_width = 120;
    google_ad_height = 600;
    //-->
    </script>
    <script type="text/javascript"
    src="../../../pagead2.googlesyndication.com/pagead/f.txt">
    </script>
</div><!--/.well -->        </div><!--/span-->
        
      </div><!--/row-->
      
    
      <hr>
      
	  	  <div class="row-fluid">
	  <div class="span12">
	  <img src="../../images/cat_bottom.png" align="right" />
</div><!--/span-->
        </div><!--/row-->

<footer>
    <noindex>
    <span style="float:left; margin:3px 1px 1px 2px;">
	    © 2014 <a href="mailto:rusproject@mail.ru">А.Климов</a>
		
		<!-- Place this code where you want the badge to render. -->
<a href="http://plus.google.com/109061106977829925124?prsrc=3" rel="publisher" style="text-decoration:none;">
<img src="../../../ssl.gstatic.com/images/icons/gplus-16.png" alt="Google+" style="border:0;width:16px;height:16px;"/></a>

    </span>
	
		<span style="float: right; margin:3px 5px 1px 1px; font-size:22px;">
        <!--Rating@Mail.ru LOGO--><a target=_top
        href="http://top.mail.ru/jump?from=228158"><img
        SRC="http://top-fwz1.mail.ru/counter?id=228158;t=223;l=1"
        border=0 height=31 width=88
        alt="Рейтинг@Mail.ru"/></a><!--/LOGO-->
	</span>
    
    <span style="float: right; margin:2px 70px 1px 1px; font-size:22px;">
        <a href="http://feeds.feedburner.com/alexanderklimov/VJcl"><img src="../../../feeds.feedburner.com/_fc/alexanderklimov/VJcle080.gif?bg=0099CC&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>
	</span>
	
<div style="float: right; margin:2px 70px 1px 1px;">
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-size="small" data-annotation="inline" data-width="300" data-align="right" ></div>

</div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  window.___gcfg = {lang: 'ru'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = '../../../apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
	

    </noindex>
</footer>

</div><!--/.fluid-container-->
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../assets/js/jquery.js"></script>
    <script src="../../assets/js/bootstrap-transition.js"></script>
    <script src="../../assets/js/bootstrap-alert.js"></script>
    <script src="../../assets/js/bootstrap-modal.js"></script>
    <script src="../../assets/js/bootstrap-dropdown.js"></script>
    <script src="../../assets/js/bootstrap-scrollspy.js"></script>
    <script src="../../assets/js/bootstrap-tab.js"></script>
    <script src="../../assets/js/bootstrap-tooltip.js"></script>
    <script src="../../assets/js/bootstrap-popover.js"></script>
    <script src="../../assets/js/bootstrap-button.js"></script>
    <script src="../../assets/js/bootstrap-collapse.js"></script>
    <script src="../../assets/js/bootstrap-carousel.js"></script>
    <script src="../../assets/js/bootstrap-typeahead.js"></script>
    <script src="../../../code.jquery.com/jquery-1.7.min.js"></script>
</body>

<!-- Mirrored from developer.alexanderklimov.ru/android/theory/activity_methods.php by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Jul 2014 14:50:20 GMT -->
</html>